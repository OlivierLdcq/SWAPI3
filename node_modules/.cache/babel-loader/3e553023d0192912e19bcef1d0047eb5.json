{"ast":null,"code":"import _asyncToGenerator from\"/Users/olivierlesucq/Documents/swapi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/olivierlesucq/Documents/swapi/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/olivierlesucq/Documents/swapi/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/olivierlesucq/Documents/swapi/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/olivierlesucq/Documents/swapi/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/Users/olivierlesucq/Documents/swapi/node_modules/@babel/runtime/regenerator/index.js\";import React,{Component}from\"react\";import CardDisplay from\"../components/CardDisplay\";import SearchBar from\"../components/SearchBar\";import\"./App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.inputGotChanged=function(e){_this.setState({search:e.target.value});};_this.selectChanged=function(e){_this.setState({select:e.target.value});};_this.state={starWarsList:\"\",search:\"\",select:\"popularity\",count:0};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;var goFetch,goJson;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://swapi.py4e.com/api/people\");case 2:goFetch=_context.sent;_context.next=5;return goFetch.json();case 5:goJson=_context.sent;this.setState({starWarsList:goJson,cardFlash:false});// here we use setTimeOut to flash a new className in the card in order to animate the progress bars\nsetTimeout(function(){_this2.setState({cardFlash:true});},100);// here we are doing the counter for the percentages\nsetInterval(function(){if(_this2.state.count<100){_this2.setState({count:_this2.state.count+1});}},20);case 9:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){console.log(\"app render\");console.log(\"this is the state : \",this.state);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Star Wars API\"}),/*#__PURE__*/_jsx(SearchBar,{inputGotChanged:this.inputGotChanged,selectChanged:this.selectChanged}),this.state.starWarsList!==\"\"?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(CardDisplay,{starWarsList:this.state.starWarsList,search:this.state.search,select:this.state.select,cardFlash:this.state.cardFlash,count:this.state.count})}):undefined]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/olivierlesucq/Documents/swapi/src/containers/App.js"],"names":["React","Component","CardDisplay","SearchBar","App","inputGotChanged","e","setState","search","target","value","selectChanged","select","state","starWarsList","count","fetch","goFetch","json","goJson","cardFlash","setTimeout","setInterval","console","log","undefined"],"mappings":"+sBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAO,WAAP,C,2FAEMC,CAAAA,G,0FACJ,cAAc,qCACZ,wBADY,MA2BdC,eA3Bc,CA2BI,SAACC,CAAD,CAAO,CACvB,MAAKC,QAAL,CAAc,CAAEC,MAAM,CAAEF,CAAC,CAACG,MAAF,CAASC,KAAnB,CAAd,EACD,CA7Ba,OA8BdC,aA9Bc,CA8BE,SAACL,CAAD,CAAO,CACrB,MAAKC,QAAL,CAAc,CAAEK,MAAM,CAAEN,CAAC,CAACG,MAAF,CAASC,KAAnB,CAAd,EACD,CAhCa,CAEZ,MAAKG,KAAL,CAAa,CACXC,YAAY,CAAE,EADH,CAEXN,MAAM,CAAE,EAFG,CAGXI,MAAM,CAAE,YAHG,CAIXG,KAAK,CAAE,CAJI,CAAb,CAFY,aAQb,C,2IAED,4LAEwBC,CAAAA,KAAK,CAAC,mCAAD,CAF7B,QAEQC,OAFR,qCAGuBA,CAAAA,OAAO,CAACC,IAAR,EAHvB,QAGQC,MAHR,eAIE,KAAKZ,QAAL,CAAc,CAAEO,YAAY,CAAEK,MAAhB,CAAwBC,SAAS,CAAE,KAAnC,CAAd,EACA;AACAC,UAAU,CAAC,UAAM,CACf,MAAI,CAACd,QAAL,CAAc,CAAEa,SAAS,CAAE,IAAb,CAAd,EACD,CAFS,CAEP,GAFO,CAAV,CAGA;AACAE,WAAW,CAAC,UAAM,CAChB,GAAI,MAAI,CAACT,KAAL,CAAWE,KAAX,CAAmB,GAAvB,CAA4B,CAC1B,MAAI,CAACR,QAAL,CAAc,CAAEQ,KAAK,CAAE,MAAI,CAACF,KAAL,CAAWE,KAAX,CAAmB,CAA5B,CAAd,EACD,CACF,CAJU,CAIR,EAJQ,CAAX,CAVF,2D,mIAuBA,iBAAS,CACPQ,OAAO,CAACC,GAAR,CAAY,YAAZ,EACAD,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAAoC,KAAKX,KAAzC,EACA,mBACE,aAAK,SAAS,CAAC,KAAf,wBACE,WAAI,SAAS,CAAC,OAAd,2BADF,cAGE,KAAC,SAAD,EACE,eAAe,CAAE,KAAKR,eADxB,CAEE,aAAa,CAAE,KAAKM,aAFtB,EAHF,CAOG,KAAKE,KAAL,CAAWC,YAAX,GAA4B,EAA5B,cACC,kCACE,KAAC,WAAD,EACE,YAAY,CAAE,KAAKD,KAAL,CAAWC,YAD3B,CAEE,MAAM,CAAE,KAAKD,KAAL,CAAWL,MAFrB,CAGE,MAAM,CAAE,KAAKK,KAAL,CAAWD,MAHrB,CAIE,SAAS,CAAE,KAAKC,KAAL,CAAWO,SAJxB,CAKE,KAAK,CAAE,KAAKP,KAAL,CAAWE,KALpB,EADF,EADD,CAUGU,SAjBN,GADF,CAqBD,C,iBA1DexB,S,EA6DlB,cAAeG,CAAAA,GAAf","sourcesContent":["import React, { Component } from \"react\";\nimport CardDisplay from \"../components/CardDisplay\";\nimport SearchBar from \"../components/SearchBar\";\nimport \"./App.css\";\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      starWarsList: \"\",\n      search: \"\",\n      select: \"popularity\",\n      count: 0,\n    };\n  }\n\n  async componentDidMount() {\n    /// here we go fetch the data to the swapi API\n    const goFetch = await fetch(\"https://swapi.py4e.com/api/people\");\n    const goJson = await goFetch.json();\n    this.setState({ starWarsList: goJson, cardFlash: false });\n    // here we use setTimeOut to flash a new className in the card in order to animate the progress bars\n    setTimeout(() => {\n      this.setState({ cardFlash: true });\n    }, 100);\n    // here we are doing the counter for the percentages\n    setInterval(() => {\n      if (this.state.count < 100) {\n        this.setState({ count: this.state.count + 1 });\n      }\n    }, 20);\n  }\n\n  inputGotChanged = (e) => {\n    this.setState({ search: e.target.value });\n  };\n  selectChanged = (e) => {\n    this.setState({ select: e.target.value });\n  };\n  render() {\n    console.log(\"app render\");\n    console.log(\"this is the state : \", this.state);\n    return (\n      <div className=\"App\">\n        <h1 className=\"title\">Star Wars API</h1>\n        {/* <Counter count={this.state.count} /> */}\n        <SearchBar\n          inputGotChanged={this.inputGotChanged}\n          selectChanged={this.selectChanged}\n        />\n        {this.state.starWarsList !== \"\" ? (\n          <div>\n            <CardDisplay\n              starWarsList={this.state.starWarsList}\n              search={this.state.search}\n              select={this.state.select}\n              cardFlash={this.state.cardFlash}\n              count={this.state.count}\n            />\n          </div>\n        ) : undefined}\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}